<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>How well elephants hide in a rowan tree | Piotr Przetacznik blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.8f3dca9f.css" as="style"><link rel="preload" href="/assets/js/app.7d7ecd72.js" as="script"><link rel="preload" href="/assets/js/9.2cce0201.js" as="script"><link rel="preload" href="/assets/js/2.33a8869f.js" as="script"><link rel="preload" href="/assets/js/1.acfb7c2c.js" as="script"><link rel="preload" href="/assets/js/29.7d2be2db.js" as="script"><link rel="prefetch" href="/assets/js/10.a0ab79ee.js"><link rel="prefetch" href="/assets/js/11.5ffbccd0.js"><link rel="prefetch" href="/assets/js/14.7ff8503b.js"><link rel="prefetch" href="/assets/js/15.9bf42499.js"><link rel="prefetch" href="/assets/js/16.1406351e.js"><link rel="prefetch" href="/assets/js/17.ea0555db.js"><link rel="prefetch" href="/assets/js/18.f8c0b5f6.js"><link rel="prefetch" href="/assets/js/19.25c1fb36.js"><link rel="prefetch" href="/assets/js/20.119b30d4.js"><link rel="prefetch" href="/assets/js/21.5425408d.js"><link rel="prefetch" href="/assets/js/22.1dafecf6.js"><link rel="prefetch" href="/assets/js/23.db147edd.js"><link rel="prefetch" href="/assets/js/24.efe9e19e.js"><link rel="prefetch" href="/assets/js/25.9a65eef8.js"><link rel="prefetch" href="/assets/js/26.21757ba3.js"><link rel="prefetch" href="/assets/js/27.06147976.js"><link rel="prefetch" href="/assets/js/28.d0e96b43.js"><link rel="prefetch" href="/assets/js/3.8ce741e2.js"><link rel="prefetch" href="/assets/js/30.f929bba5.js"><link rel="prefetch" href="/assets/js/4.f168e890.js"><link rel="prefetch" href="/assets/js/5.b0e04c4f.js"><link rel="prefetch" href="/assets/js/6.84a177f7.js"><link rel="prefetch" href="/assets/js/7.f3060962.js"><link rel="prefetch" href="/assets/js/8.b715c908.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.bbe758e2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f3dca9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout"><div><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Piotr Przetacznik blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/post/" class="nav-link router-link-active">
  Posts
</a></div><div class="nav-item"><a href="/tag/" class="nav-link">
  Tags
</a></div><div class="nav-item"><a href="/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="https://github.com/pprzetacznik" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/post/" class="nav-link router-link-active">
  Posts
</a></div><div class="nav-item"><a href="/tag/" class="nav-link">
  Tags
</a></div><div class="nav-item"><a href="/" class="nav-link">
  About
</a></div><div class="nav-item"><a href="https://github.com/pprzetacznik" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>How well elephants hide in a rowan tree</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/post/2025/01/03/mutations-testing/#falsifiability" class="sidebar-link">Falsifiability</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/post/2025/01/03/mutations-testing/#mutation-testing" class="sidebar-link">Mutation testing</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/post/2025/01/03/mutations-testing/#summary" class="sidebar-link">Summary</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/post/2025/01/03/mutations-testing/#references" class="sidebar-link">References</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="how-well-elephants-hide-in-a-rowan-tree"><a href="#how-well-elephants-hide-in-a-rowan-tree" class="header-anchor">#</a> How well elephants hide in a rowan tree</h1> <p>More often I see GitHub Copilot tutorials with prompts like <em>&quot;Write unit tests for this function&quot;</em>, less I'm worried about my job security.</p> <h2 id="falsifiability"><a href="#falsifiability" class="header-anchor">#</a> Falsifiability</h2> <p>There's a reason why Test-Driven Development (TDD) suggests writing tests before the implementation. It's not just about writing top-down designed code. It's also about ensuring your tests are falsifiable and genuinely help in developing the code. Being able to falsify your hypothesis is the essence of engineering. And being able to falsify your tests is the essence of software engineering.</p> <p>By the way, did you know that elephants hide in rowan trees? No? Ever seen an elephant in a rowan tree? That's how well they hide.</p> <p><img src="/static/elephant.jpg" alt="elephant"> <em>You won't see an elephant in a rowan tree in real life</em></p> <p>I've seen this joke many times come to life in real projects. When a new team member joins, a senior developer might ask them to write a few unit tests as part of the onboarding process. But without product requirements, how do we ensure these tests properly validate the code? How do we verify that the &quot;elephant&quot; is truly hiding in the &quot;rowan trees&quot; if no one has ever seen it?&quot;. Have you ever seen each of your tests fail, ensuring that when the implementation is corrupted, they'll signal the mistakes you've made?</p> <h2 id="mutation-testing"><a href="#mutation-testing" class="header-anchor">#</a> Mutation testing</h2> <p>If you find yourself in this situation, try using a technique called <em>mutation testing</em>. Introduce common mistakes into your implementation to ensure your tests fail. Also, make some neutral modifications that shouldn't cause your tests to fail. If they do fail, it means your tests are too tightly coupled with the implementation, and you should improve your interfaces by writing better tests first. These will show you false positives and false negatives of your test cases.</p> <p>Not writing tests before your code is like taking on technical debt mortgage. Don't get me wrong, though. It's still not as terrible as generating tons of AI tests after the implementation that no one will read, which is like taking out a loan with horrendous interest rates. That could actually drown your project. I'm not surprised that people are reluctant to write tests if they're taught to write them afterwards. Also, to modules that don't return anything, which forces them to use mocks to check internal state of tested code. What’s the benefit of these tests if they don’t describe Product Requirements Documents (PRDs) or help in designing interfaces, or writing the implementation?</p> <h2 id="summary"><a href="#summary" class="header-anchor">#</a> Summary</h2> <p>Write tests before the implementation, use stubs over mocks, and always return something from your functions. You'll have fewer side effects, you'll have to check internal behavior less often, your tests will be easier to maintain in the long term, and you'll save more time. Do the opposite, if you enjoy wasting your time.</p> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <ul><li><em>Mutation testing</em>, wikipedia, <a href="https://en.wikipedia.org/wiki/Mutation_testing" target="_blank" rel="noopener noreferrer">online<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li></ul> <p><em>Article was originally written 2025.01.03</em></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/3/2025, 9:53:33 PM</span></div></footer> <!----> </main></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7d7ecd72.js" defer></script><script src="/assets/js/9.2cce0201.js" defer></script><script src="/assets/js/2.33a8869f.js" defer></script><script src="/assets/js/1.acfb7c2c.js" defer></script><script src="/assets/js/29.7d2be2db.js" defer></script>
  </body>
</html>
